<!DOCTYPE html>
{% load static %}
<html lang="ru">
    <head>
        <link rel="stylesheet" href="{% static "css\coctail.css" %}">
        <link rel="stylesheet" href="{% static "css\Base.css" %}">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="UTF-8">
        <title>Мир Коктейлей | Коктейль {{name}}</title>
    </head>
    <body>
        <!-- Шапка с навигацией -->
        {% include "BaseHeader.html" with main="deactive" IBA="deactive" list="active" only %}

        <!-- Основной контент -->
        <div class="container">
            <!-- Герой-секция -->
            <section class="cocktail-hero">
                <div class="cocktail-header">
                    <div>
                        <h1 class="cocktail-title">{{name}}</h1>
                        <div class="cocktail-meta">
                            <div class="meta-item">
                                <i class="fas fa-clock"></i> Приготовление: {{time}} минуты
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-tachometer-alt"></i> Крепость: {{strength}}, {{strength_procent}}% алкоголя
                            </div>
                        </div>
                    </div>
                    <span class="cocktail-badge iba">{{type}}</span>
                </div>
            </section>

            <!-- Основной контент в две колонки -->
            <div class="cocktail-content">
                <!-- Левая колонка -->
                <div class="cocktail-left">
                    <img src= {{ image }} 
                         alt= {{ name }}
                         class="cocktail-image">

                    <section class="history-section">
                        <h2 class="section-title">
                            <i class="fas fa-history"></i> История коктейля
                        </h2>
                        <div class="history-text">
                            <p>{{history}}</p>
                            
                        </div>
                    </section>
                </div>

                <!-- Правая колонка -->
                <div class="cocktail-right">
                    <section class="ingredients-section">
                        <h2 class="section-title">
                            <i class="fas fa-list-alt"></i> Ингредиенты и пропорции
                        </h2>
                        <ul class="ingredients-list">
                            {% autoescape off %}
                            {{ingr_list}}
                            {% endautoescape %}
                        </ul>
                    </section>

                    <section class="preparation-section">
                        <h2 class="section-title">
                            <i class="fas fa-mortar-pestle"></i> Приготовление
                        </h2>
                        <p style="color: #b0b0b0; margin-bottom: 20px; font-size: 1.1rem;">
                            {{ run_steps }}
                        </p>
                        <ol class="steps-list">
                            {% autoescape off %}
                            {{ steps }}
                            {% endautoescape%}
                        </ol>
                    </section>
                </div>
            </div>

            <!-- Характеристики коктейля -->
            <section class="specs-section">
                <div class="spec-card">
                    <div class="spec-icon">
                        <i class="fas fa-glass-whiskey"></i>
                    </div>
                    <div class="spec-content">
                        <h3>Тип бокала</h3>
                        <p>{{glass}}</p>
                    </div>
                </div>

                <div class="spec-card">
                    <div class="spec-icon">
                        <i class="fas fa-thermometer-half"></i>
                    </div>
                    <div class="spec-content">
                        <h3>Температура подачи</h3>
                        <p>{{temperature}}°C</p>
                    </div>
                </div>

                <div class="spec-card">
                    <div class="spec-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="spec-content">
                        <h3>Время приготовления</h3>
                        <p>{{ time }} минуты</p>
                    </div>
                </div>
            </section>

            <!-- Кнопки действий -->
            <div class="action-buttons">
                <button class="action-btn" id="shareBtn">
                    <i class="fas fa-share-alt"></i> Поделиться рецептом
                </button>
                <button class="action-btn print" id="printBtn">
                    <i class="fas fa-print"></i> Распечатать рецепт
                </button>
            </div>
        </div>

        <!-- Подвал -->
        {% include "BaseFooter.html" %}

        <script>
            // Инициализация страницы
            document.addEventListener('DOMContentLoaded', () => {
                // Выделение активного пункта меню
                document.querySelectorAll('nav a').forEach(anchor => {
                    if (anchor.href === window.location.href) {
                        anchor.classList.add('active');
                    }

                    anchor.addEventListener('click', function() {
                        document.querySelectorAll('nav a').forEach(link => link.classList.remove('active'));
                        this.classList.add('active');
                    });
                });

                // Обработчики кнопок
                document.getElementById('shareBtn').addEventListener('click', () => {
                    if (navigator.share) {
                        navigator.share({
                            title: 'Рецепт коктейля Негрони',
                            text: 'Попробуйте классический итальянский коктейль Негрони!',
                            url: window.location.href,
                        })
                        .then(() => console.log('Успешный шеринг'))
                        .catch((error) => console.log('Ошибка шеринга:', error));
                    } else {
                        alert('Скопируйте ссылку на страницу из адресной строки браузера, чтобы поделиться рецептом!');
                    }
                });

                document.getElementById('printBtn').addEventListener('click', () => {
                    window.print();
                });

                // Анимация появления элементов при загрузке
                const elements = document.querySelectorAll('.cocktail-hero, .cocktail-content, .specs-section, .action-buttons');
                elements.forEach((el, index) => {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(20px)';

                    setTimeout(() => {
                        el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, 100 + (index * 100));
                });
            });
        </script>
    </body>
</html>