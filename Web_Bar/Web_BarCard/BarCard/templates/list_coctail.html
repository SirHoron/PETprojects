<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мир Коктейлей | Список коктейлей</title>
    <link rel="stylesheet" href="{% static "css/list_coctail.css" %}">
    <link rel="stylesheet" href="{% static "css/Base.css" %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Шапка с навигацией -->
    {% include "BaseHeader.html" with main="deactive" IBA="deactive" list="active" only %}

    <!-- Герой-секция для списка коктейлей -->
    <section class="cocktails-hero">
        <div class="container">
            <h1>Полная коллекция коктейлей</h1>
            <p>Исследуйте нашу обширную коллекцию классических и современных коктейлей. Используйте фильтры, чтобы найти идеальный напиток для любого случая.</p>
        </div>
    </section>

    <!-- Секция фильтров -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-container">
                <div class="search-box">
                    <i class="fas fa-search" id="search-btn"></i>
                    <input type="text" id="searchInput" value="{{search}}" placeholder="Поиск коктейля по названию или ингредиенту...">
                </div>
                
                <div class="Filter">
                    <button class="filter-select" id="toggleButton"><i class="fas fa-filter"></i>  {{typec}}  <i class="fas fa-chevron-down"></i></button>
                </div>
                <div class="Filter">
                    <a href="./?type=all&search="><button class="filter-select"><img src="/static/image/filter.png" alt="">  Сбросить фильтры</button></a>
                </div>
            </div> 
        </div>
    </section>
    <div class="block-option" id="messageBlock">
        <p><img src="/static/image/all.png" alt=""><a href="./?type=all&search={{search}}"> Все категории</a></p>
        <p><img src="/static/image/Fish.png" alt=""><a href="./?type=tropical&search={{search}}"> Тропический</a></p>
        <p><img src="/static/image/star.png" alt=""><a href="./?type=Unforgettable&search={{search}}"> Незабываемый</a></p>
        <p><img src="/static/image/mint.png" alt=""><a href="./?type=refreshing&search={{search}}"> Освежающий</a></p>
        <p><img src="/static/image/med.png" alt=""><a href="./?type=sweet&search={{search}}"> Сладкий</a></p>
        <p><img src="/static/image/lemon.png" alt=""><a href="./?type=sour&search={{search}}"> Кислый</a></p>
        <p> <img src="/static/image/coffee.png" alt=""> <a href="./?type=coffee&search={{search}}"> Кофейный</a></p>
        <p> <img src="/static/image/non_alco.png" alt=""> <a href="./?type=non-alcoholic&search={{search}}"> Безалкогольный</a></p>
        <p> <i class="fas fa-award"></i> <a href="./?type=modern&search={{search}}"> Современный</a></p>
        <p> <i class="fas fa-rocket"></i> <a href="./?type=new-epoch&search={{search}}"> Новой эпохи</a></p>
        <p> <img src="/static/image/karica.png" alt="./?type=spicy&search={{search}}"> <a href=""> Пряный</a></p>
    </div>

    <!-- Секция коктейлей -->
    <section class="cocktails-section">
        <div class="container">
            <h2 class="section-title">Коллекция коктейлей</h2>
            
            <div class="cocktail-grid" id="cocktailGrid">
                {% autoescape off %}
                {{ card }}
                {% endautoescape%}
            </div> 
        </div>
    </section>

    <section class="container pages">
        {% autoescape off %}
        {{ pages }}
        {% endautoescape%}
    </section>

    <!-- Подвал -->
    {% include "BaseFooter.html" %}

    <script>
        const button = document.getElementById('toggleButton');
        const message = document.getElementById('messageBlock');
        const searchBtn = document.getElementById('search-btn');
        let searchInputText = document.getElementById("searchInput").value;

        document.addEventListener('keydown', (e)=>{
            let searchInput = document.getElementById("searchInput");
            if (e.key=="Enter" && document.activeElement === searchInput && searchInput.value || searchInput.value != searchInputText && e.key=="Enter") {
                const textContent = `type={{type}}&search=${searchInput.value}`
                window.location.href = window.location.href.substring(0,35) + textContent
            }
        })

        searchBtn.addEventListener('click', ()=>{
            let searchInput = document.getElementById("searchInput");
            const textContent = `type={{type}}&search=${searchInput.value}`
            window.location.href = window.location.href.substring(0,35) + textContent
        })

        button.addEventListener('click', () => {
            message.classList.toggle('show');
        });
    </script>
</body>
</html>